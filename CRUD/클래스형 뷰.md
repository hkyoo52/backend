```python
# def post_create를 아래처럼 class로 바꿈

from django.views import View

class PostCreateView(View):
    def get(self,request):
        post_form = PostForm()
        return render(request, 'posts/post_form.html', {'form': post_form})

    def post(self,request):
        post_form = PostForm(request.POST)
        # 유효성 검사
        if post_form.is_valid():
            new_post = post_form.save()
            return redirect('post-detail', post_id=new_post.id)
```
* urls.py에서 path도 -> path('posts/new',views.PostCreateView.as_view(), name = 'post-create')로 바꿈
* class는 반드시 .as_view() 추가!!

## 제네릭 뷰
* 자주 사용되는 기능 구현
* 원하는 기능을 빠르게 짜임새 있게 구현 가능

#### 함수형 구조
![image](https://user-images.githubusercontent.com/63588046/181185448-02c96eea-43a4-40ad-9110-77c022cf5fba.png)

#### 제네릭 구조
![image](https://user-images.githubusercontent.com/63588046/181185523-5651b61d-a1c4-469d-831f-e3254c7ca455.png)

```python
from django.views.generic import CreateView
from django.urls import reverse

class PostCreateView(CreateView):
    model = Post
    form_class = PostForm
    template_name = 'posts/post_form.html'

    def get_success_url(self):
        # reverse : post-detail 이름을 가진 url을 찾아서 새로 생성된 id를 post id로 둔다.
        return reverse('post-detail', kwargs={'post_id' : self.object.id})
```
